---
title: NTE003 - 物质设定简介
date: 2024-10-23 23:40:00 +0800
categories: [核热速递]
tags: [游戏设计, 游戏实现] 
media_subpath: /assets/202410pic/
license: cc-by-nc-nd-4.0
---

## 前言

由于计算机机能限制，游戏设计必须有很大的妥协（不然为什么不直接搓成地球OL模拟呢？），因此，在游戏设计时，必须对现实世界进行简化，同时引入一些刻意的游戏设计来提高世界的自洽性。因为这些简化，所以必然会提到些许游戏实现，不过本文主要内容还是游戏设计。

如果没有加单位，默认采用“万国公制”。


## 简化之处

### 物质尺度

在现实世界中，物质尺度非常复杂，从原子到分子，再到宏观物体，再到宇宙，尺度跨度极大。而在游戏中，为了简化，我们相当于放大了分子到宏观尺度（1尺），并称之为限元（unit）。然而，限元并非分子，其尽管只能含一种化学成分（必然为纯净物），但并非指一个分子：限元拥有量属性，可以视为其是多个分子的集合。限元间可以通过限元键连接，类似于现实中的分子间作用力成的化学键，拥有多种分类，以实现不同的物质种类。

同时，为了计算机能够运行，星球的尺度被缩小。
本游戏的星球放缩尺度约为**1：100**，即一个类地宜居星球在本游戏中直径为120k尺，地表重力为1g。
下列几个参考游戏中的星球尺度：
- 1:1（不放缩），如RKSP，Space Engine，CDE等
- 1:10，如KSP，SR，Juno: New Origin等
- 1:100到1:1000，如Space Engineer（直径12-120km的行星）等
- 1:24000，星际拓荒
- 1:40000，戴森球计划
 
#### 旧设定 - 支持混合物的限元物质

已弃用设定：两个或多个混合物体系的相互反应实现难度大增，且在不规定一个限元物质可以拥有的化学物质种类的情况下，会带来很大的额外化学系统计算开销。

#### 旧设定 - 多碰撞箱形式的限元物质

已弃用设定：限元物质有三角形、圆形等碰撞箱，由于现在有了更好的、统一的办法，因此弃用。

----------------

## 限元 - 限元物质的载体

何为限元？限元之名取自“有限元”，但并非应用了有限元方法。限元只是一种拉格朗日视角下的应用了部分元胞自动机思想的模拟质点。

限元本身可以承载一种物质，可以有量的区别，也有电荷、温度、交互半径等属性。不过，诸如相之类的属性不由限元本身承载，因为其是一种宏观现象，需要由键来体现。


## 限元物质的组织形式 - 相

有关限元物质的相，分为以下几类：

### 固态
固体物质总是排斥其他所有物质，不可压缩。
基础三态之一。限元拥有一个圆形的完全体积碰撞箱，一个交互范围碰撞箱。

### 液态
液体物质总是排斥其他所有物质，几乎不可压缩。
基础三态之一。限元一般拥有一个圆形的完全体积碰撞箱，一个交互范围碰撞箱。

#### 溶剂合态
结合A溶剂与B溶质中的物质，生成新的溶剂合限元以表示溶剂化之后的物质。同样被视为纯净物。是液态的子类型。

### 气态
气体物质排斥其他物质，可压缩。
基础三态之一。限元拥有一个圆形的部分体积碰撞箱，一个交互范围碰撞箱。

#### 气体的扩散与限元分离设定
//TODO

### 超流态
液态衍生态。
超流态物质排斥其他物质，可压缩。
限元拥有一个圆形的部分体积碰撞箱，一个交互范围碰撞箱。

### 离子态
气态衍生态。多被视为气体来处理。
//TODO

### 等离子态
气态衍生态。多被视为气体来处理。
//TODO

### 粒子态
气态衍生态。多被视为气体来处理。
//TODO

### 爱玻凝聚态
//TODO

### 电子简并态
//TODO

### 中子简并态
//TODO

### 奇点
//TODO


事实上在游戏实现中，也许不会直接记录限元所处的相态。根据物质组成、温度、受力情况可以判断出其处于的相态。

## 限元物质组织形式的变换 - 相变
//TODO


## 限元的约束 - 键
键是一种连接了两个限元的物质（matter）。其本身的特性一般由产生其的两个限元决定。我们通过键来约束限元的运动。

根据键的稳定性，可以分类为以下几类：
- 永久性键
- 半永久性键
- 动态键
- 半临时键
- 临时键
- 形式键

### 永久性键
永久性键包括晶体键。

#### 晶体键
晶体键连接两个固态限元。
刚体键，本身包含有刚体碰撞箱，表现为固体，阻止其他实体物质进入刚体键。
对限元产生刚体约束：相对距离被固定，限元本身无法自由选择，只能跟随刚体整体旋转。

限元支付内能来破坏晶体键，支付后晶体键立即被破坏。也会在压力或剪切力达到极限的时候破坏，同时吸收热量。

在任意其他相物质转变为固态的情况下可以放出热量产生晶体键。

### 半永久性键
半永久性键包含非晶体键。

#### 非晶体键
非晶体键连接两个固态限元。
刚体键，本身包含有刚体碰撞箱，阻止其他实体物质进入刚体键。
对限元产生刚体约束：相对距离被固定，限元本身无法自由选择，只能跟随刚体整体旋转。

限元支付内能来破坏非晶体键，支付后转变为弹性键。也会在压力或剪切力达到极限的时候转变为弹性键，同时吸收热量。

在任意其他相物质转变为固态的情况下可以放出热量产生非晶体键。

### 动态键
动态键包含弹性键。

#### 弹性键
弹性键连接两个固态或液态限元。
弹性键，本身包含有半刚体碰撞箱，表现为类固体，阻止其他实体物质进入弹性键。
对限元产生弹簧约束：相对距离在一定范围内可以改变，存在径向力限制相对距离改变。限元可以旋转，存在切向力，即黏性，使得旋转受限。

超过拉伸极限的情况下，弹性键断裂。或是支付内能来破坏弹性键。

通过非晶体键或液态键转换而成。

### 半临时键
半临时键包括液态键。

#### 液态键
液态键连接两个液态或超流态限元。
半弹性键，本身没有碰撞箱。
对限元产生弹簧约束：相对距离在一定范围内可以改变，存在径向力限制相对距离改变。限元可以旋转，存在切向力，即黏性，使得旋转受限。

超过作用距离极限的情况下，液态键断裂。或是支付内能来破坏液态键。

在任意相物质转变为液态的情况下可以放出热量产生液态键。

### 临时键
临时键包含溶剂化键，气体键。

#### 溶剂化键
溶剂化键连接两个限元。要求一个是液态/超临界态限元，一个是非液态&超临界态限元。
液态键式的位置约束。
主要功能是产生溶剂合限元。

#### 气体键
气体键连接两个气体限元。
产生斥力。

气体限元总是检查交互范围有重叠的其他气体限元是否连接。

### 形式键
形式键包含合并尝试键，碰撞键。
形式键不代表真的用键的方式来处理，只是因为其作用对象是两个限元，所以称为形式键。

#### 合并尝试键
两个限元如果都是同一物质组成，且在交互范围内，就会产生一个合并尝试键。
合并尝试键，本身没有碰撞箱，没有约束。
合并尝试键如果足够短，即两限元距离足够近，就会尝试合并为一个限元。

#### 碰撞键
碰撞系统说两个限元碰了，就会产生一个碰撞键。
用来处理碰撞信息。


## 限元物质的属性 - 物质属性
//TODO

### 碰撞箱类型
//TODO